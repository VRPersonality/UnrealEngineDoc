<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unreal Engine 5.6 C++ API: Runtime/Core/Public/HAL/MallocBinnedGPU.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Unreal Engine 5.6 C++ API<span id="projectnumber">&#160;5.6.0</span>
   </div>
   <div id="projectbrief">C++ API documentation for Unreal Engine 5.6</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('MallocBinnedGPU_8h_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">MallocBinnedGPU.h</div></div>
</div><!--header-->
<div class="contents">
<a href="MallocBinnedGPU_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright Epic Games, Inc. All Rights Reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="Array_8h.html">Containers/Array.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="CoreTypes_8h.html">CoreTypes.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="PlatformAtomics_8h.html">HAL/PlatformAtomics.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="PlatformMemory_8h.html">HAL/PlatformMemory.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="UnrealMathUtility_8h.html">Math/UnrealMathUtility.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="Atomic_8h.html">Templates/Atomic.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="MemoryOps_8h.html">Templates/MemoryOps.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#if PLATFORM_64BITS &amp;&amp; PLATFORM_HAS_FPlatformVirtualMemoryBlock</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="UniqueLock_8h.html">Async/UniqueLock.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="CachedOSPageAllocator_8h.html">HAL/Allocators/CachedOSPageAllocator.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="PooledVirtualMemoryAllocator_8h.html">HAL/Allocators/PooledVirtualMemoryAllocator.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="LowLevelMemTracker_8h.html">HAL/LowLevelMemTracker.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="MallocBinnedCommon_8h.html">HAL/MallocBinnedCommon.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="MemoryBase_8h.html">HAL/MemoryBase.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="PlatformMath_8h.html">HAL/PlatformMath.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="PlatformMutex_8h.html">HAL/PlatformMutex.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="PlatformTLS_8h.html">HAL/PlatformTLS.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="UnrealMemory_8h.html">HAL/UnrealMemory.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="NumericLimits_8h.html">Math/NumericLimits.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="AssertionMacros_8h.html">Misc/AssertionMacros.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="ScopeLock_8h.html">Misc/ScopeLock.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="ScopeLock_8h.html">Misc/ScopeLock.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="AlignmentTemplates_8h.html">Templates/AlignmentTemplates.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">Templates/Function.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#define BINNEDGPU_MAX_GMallocBinnedGPUMaxBundlesBeforeRecycle (8)</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#define COLLECT_BINNEDGPU_STATS (!UE_BUILD_SHIPPING)</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#if COLLECT_BINNEDGPU_STATS</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">    #define MBG_STAT(x) x</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">    #define MBG_STAT(x)</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><a class="code hl_define" href="MSVCPlatformCompilerPreSetup_8h.html#a970985d7a828a439c932e1df32a78376">PRAGMA_DISABLE_UNSAFE_TYPECAST_WARNINGS</a></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keyword">struct </span>FArenaParams</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>{</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// these are parameters you set</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> AddressLimit = 1024 * 1024 * 1024; <span class="comment">// this controls the size of the root hash table</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BasePageSize = 4096; <span class="comment">// this is used to make sensible calls to malloc and figures into the standard pool sizes if bUseStandardSmallPoolSizes is true</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> AllocationGranularity = 4096; <span class="comment">// this is the granularity of the commit and decommit calls used on the VM slabs</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> MaxSizePerBundle = 8192;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> MaxStandardPoolSize = 128 * 1024; <span class="comment">// these are added to the standard pool sizes, mainly to use the TLS caches, they are typically one block per slab</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <a class="code hl_typedef" href="Platform_8h.html#a55934b7aafc849240fa69ea0339c0ab7">uint16</a> MaxBlocksPerBundle = 64;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MaxMemoryPerBlockSizeShift = 29;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> EmptyCacheAllocExtra = 32;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MaxGlobalBundles = 32;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MinimumAlignmentShift = 4;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> PoolCount;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="keywordtype">bool</span> bUseSeparateVMPerPool = !!(<a class="code hl_define" href="MallocBinnedCommon_8h.html#acfd4f67f208d69f91b61e5ed3eafdd12">BINNEDCOMMON_USE_SEPARATE_VM_PER_POOL</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordtype">bool</span> bPerThreadCaches = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordtype">bool</span> bUseStandardSmallPoolSizes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordtype">bool</span> bAttemptToAlignSmallBocks = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    TArray&lt;uint32&gt; AdditionalBlockSizes;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// This lambdas is similar to the platform virtual memory HAL and by default just call that. </span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    TFunction&lt;FPlatformMemory::FPlatformVirtualMemoryBlock(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>)&gt; ReserveVM;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// These allow you to override the large block allocator. The value add here is that MBA tracks the metadata for you and call tell the difference between a large block pointer and a small block pointer.</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="comment">// By defaults these just use the platform VM interface to allocate some committed memory</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    TFunction&lt;<span class="keywordtype">void</span>* (<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>&amp;, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp;)&gt; LargeBlockAlloc;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    TFunction&lt;void(<span class="keywordtype">void</span>*, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>)&gt; LargeBlockFree;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// these are parameters are derived from other parameters</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> MaxMemoryPerBlockSize;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> MaxPoolSize;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> MinimumAlignment;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> MaximumAlignmentForSmallBlock;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>};</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="keyword">class </span>FMallocBinnedGPU final : <span class="keyword">public</span> <a class="code hl_class" href="classFMalloc.html">FMalloc</a></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>{</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keyword">struct </span>FGlobalRecycler;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keyword">struct </span>FPoolInfoLarge;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keyword">struct </span>FPoolInfoSmall;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="keyword">struct </span>FPoolTable;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keyword">struct </span>PoolHashBucket;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keyword">struct </span><a class="code hl_enumvalue" href="Package_8h.html#a3b787a4cb69ad795334ad7bc615b0367a47f9082fc380ca62d531096aa1d110f1">Private</a>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keyword">struct </span>FGPUMemoryBlockProxy</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MemoryModifiedByCPU[32 - <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*)]; <span class="comment">// might be modified for free list links, etc</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        <span class="keywordtype">void</span> *GPUMemory;  <span class="comment">// pointer to the actual GPU memory, which we cannot modify with the CPU</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        FGPUMemoryBlockProxy(<span class="keywordtype">void</span> *InGPUMemory)</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>            : GPUMemory(InGPUMemory)</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>        {</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>            <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(GPUMemory);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        }</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    };</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keyword">struct </span>FFreeBlock</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    {</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <span class="keyword">enum</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>            CANARY_VALUE = 0xc3</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        };</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> FFreeBlock(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPageSize, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MinimumAlignmentShift)</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            : BlockSizeShifted(InBlockSize &gt;&gt; MinimumAlignmentShift)</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            , PoolIndex(InPoolIndex)</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            , Canary(CANARY_VALUE)</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            , NextFreeBlock(nullptr)</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>            <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(InPoolIndex &lt; <a class="code hl_define" href="NumericLimits_8h.html#ac7bee8babeb8a797f90711530c15710e">MAX_uint8</a> &amp;&amp; (InBlockSize &gt;&gt; MinimumAlignmentShift) &lt;= <a class="code hl_define" href="NumericLimits_8h.html#aa1062aff3b8717c82c04237f279d398c">MAX_uint16</a>);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            NumFreeBlocks = InPageSize / InBlockSize;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> GetNumFreeRegularBlocks()<span class="keyword"> const</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            <span class="keywordflow">return</span> NumFreeBlocks;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> IsCanaryOk()<span class="keyword"> const</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>            <span class="keywordflow">return</span> Canary == FFreeBlock::CANARY_VALUE;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        }</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span> CanaryTest()<span class="keyword"> const</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            <span class="keywordflow">if</span> (!IsCanaryOk())</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                CanaryFail();</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <span class="keywordtype">void</span> CanaryFail() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span>* AllocateRegularBlock(<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> MinimumAlignmentShift)</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            --NumFreeBlocks;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            <span class="keywordflow">return</span> (<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)(((FGPUMemoryBlockProxy*)<span class="keyword">this</span>)-&gt;GPUMemory) + NumFreeBlocks * (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>(BlockSizeShifted) &lt;&lt; MinimumAlignmentShift);</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_typedef" href="Platform_8h.html#a55934b7aafc849240fa69ea0339c0ab7">uint16</a> BlockSizeShifted;      <span class="comment">// Size of the blocks that this list points to &gt;&gt; ArenaParams.MinimumAlignmentShift</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> PoolIndex;               <span class="comment">// Index of this pool</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> Canary;                  <span class="comment">// Constant value of 0xe3</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> NumFreeBlocks;          <span class="comment">// Number of consecutive free blocks here, at least 1.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        FFreeBlock* NextFreeBlock;     <span class="comment">// Next free block or nullptr</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    };</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keyword">struct </span>FPoolTable</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BlockSize;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <a class="code hl_typedef" href="Platform_8h.html#a55934b7aafc849240fa69ea0339c0ab7">uint16</a> BlocksPerBlockOfBlocks;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> PagesPlatformForBlockOfBlocks;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        FBitTree BlockOfBlockAllocationBits; <span class="comment">// one bits in here mean the virtual memory is committed</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        FBitTree BlockOfBlockIsExhausted;    <span class="comment">// one bit in here means the pool is completely full</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> NumEverUsedBlockOfBlocks;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        FPoolInfoSmall** PoolInfos;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> UnusedAreaOffsetLow;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    };</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keyword">struct </span>FPtrToPoolMapping</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        FPtrToPoolMapping()</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>            : PtrToPoolPageBitShift(0)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>            , HashKeyShift(0)</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>            , PoolMask(0)</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            , MaxHashBuckets(0)</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <span class="keyword">explicit</span> FPtrToPoolMapping(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPageSize, <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> InNumPoolsPerPage, <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> AddressLimit)</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>            <a class="code hl_enumvalue" href="UnrealNames_8h.html#adfd111cc8e912b039591d9ac852600faa95b19f7739b0b7ea7d6b07586be54f36">Init</a>(InPageSize, InNumPoolsPerPage, AddressLimit);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <span class="keywordtype">void</span> <a class="code hl_enumvalue" href="UnrealNames_8h.html#adfd111cc8e912b039591d9ac852600faa95b19f7739b0b7ea7d6b07586be54f36">Init</a>(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPageSize, <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> InNumPoolsPerPage, <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> AddressLimit)</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>            <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolPageToPoolBitShift = FPlatformMath::CeilLogTwo(InNumPoolsPerPage);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            PtrToPoolPageBitShift = FPlatformMath::CeilLogTwo(InPageSize);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>            HashKeyShift = PtrToPoolPageBitShift + PoolPageToPoolBitShift;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            PoolMask = (1ull &lt;&lt; PoolPageToPoolBitShift) - 1;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>            MaxHashBuckets = AddressLimit &gt;&gt; HashKeyShift;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span> GetHashBucketAndPoolIndices(<span class="keyword">const</span> <span class="keywordtype">void</span>* InPtr, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp; OutBucketIndex, <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>&amp; OutBucketCollision, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp; OutPoolIndex)<span class="keyword"> const</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>            OutBucketCollision = (<a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>)InPtr &gt;&gt; HashKeyShift;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            OutBucketIndex = <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>(OutBucketCollision &amp; (MaxHashBuckets - 1));</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>            OutPoolIndex = ((<a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>)InPtr &gt;&gt; PtrToPoolPageBitShift) &amp; PoolMask;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> GetMaxHashBuckets()<span class="keyword"> const</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            <span class="keywordflow">return</span> MaxHashBuckets;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">        /** Shift to apply to a pointer to get the reference from the indirect tables */</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PtrToPoolPageBitShift;<span class="comment"></span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">        /** Shift required to get required hash table key. */</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> HashKeyShift;<span class="comment"></span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">        /** Used to mask off the bits that have been used to lookup the indirect table */</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolMask;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <span class="comment">// PageSize dependent constants</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> MaxHashBuckets;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    };</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keyword">struct </span>FBundleNode</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    {</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        FBundleNode* NextNodeInCurrentBundle;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <span class="keyword">union</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            FBundleNode* NextBundle;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a> <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        };</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    };</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keyword">struct </span>FBundle</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> FBundle()</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            <a class="code hl_enumvalue" href="PathFollowingComponent_8h.html#a4e15b6712f613b0fc6f02d3d0af52f3ca526d688f37a86d3c3f27d0c5016eb71d">Reset</a>();</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        }</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span> <a class="code hl_enumvalue" href="PathFollowingComponent_8h.html#a4e15b6712f613b0fc6f02d3d0af52f3ca526d688f37a86d3c3f27d0c5016eb71d">Reset</a>()</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            Head = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a> = 0;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span> PushHead(FBundleNode* Node)</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>            Node-&gt;NextNodeInCurrentBundle = Head;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            Node-&gt;NextBundle = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            Head = Node;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>++;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> FBundleNode* PopHead()</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            FBundleNode* <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = Head;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>--;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            Head = Head-&gt;NextNodeInCurrentBundle;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        FBundleNode* Head;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>       <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    };</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keyword">struct </span>FFreeBlockList</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <span class="comment">// return true if we actually pushed it</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> PushToFront(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, <span class="keywordtype">void</span>* InPtr, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <span class="keyword">const</span> FArenaParams&amp; LocalArenaParams)</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(InPtr);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <span class="keywordflow">if</span> ((PartialBundle.Count &gt;= (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>)LocalArenaParams.MaxBlocksPerBundle) | (PartialBundle.Count * InBlockSize &gt;= (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>)LocalArenaParams.MaxSizePerBundle))</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                <span class="keywordflow">if</span> (FullBundle.Head)</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                FullBundle = PartialBundle;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                PartialBundle.Reset();</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            PartialBundle.PushHead((FBundleNode*)<span class="keyword">new</span> FGPUMemoryBlockProxy(InPtr));</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            MBG_STAT(<a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>.GPUProxyMemory += <span class="keyword">sizeof</span>(FGPUMemoryBlockProxy);)</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> CanPushToFront(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <span class="keyword">const</span> FArenaParams&amp; LocalArenaParams)</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <span class="keywordflow">return</span> !((!!FullBundle.Head) &amp; ((PartialBundle.Count &gt;= (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>)LocalArenaParams.MaxBlocksPerBundle) | (PartialBundle.Count * InBlockSize &gt;= (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>)LocalArenaParams.MaxSizePerBundle)));</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span>* PopFromFront(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="keywordflow">if</span> ((!PartialBundle.Head) &amp; (!!FullBundle.Head))</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                PartialBundle = FullBundle;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                FullBundle.Reset();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            <span class="keywordtype">void</span> *<a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            <span class="keywordflow">if</span> (PartialBundle.Head)</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            {</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                FGPUMemoryBlockProxy* Proxy = (FGPUMemoryBlockProxy*)PartialBundle.PopHead();</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = Proxy-&gt;GPUMemory;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(Result);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                <span class="keyword">delete</span> Proxy;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                MBG_STAT(<a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>.GPUProxyMemory -= <span class="keyword">sizeof</span>(FGPUMemoryBlockProxy);)</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>            }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="comment">// tries to recycle the full bundle, if that fails, it is returned for freeing</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        FBundleNode* RecyleFull(FArenaParams&amp; LocalArenaParams, FGlobalRecycler&amp; GGlobalRecycler, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordtype">bool</span> ObtainPartial(FArenaParams&amp; LocalArenaParams, FGlobalRecycler&amp; GGlobalRecycler, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        FBundleNode* PopBundles(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        FBundle PartialBundle;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        FBundle FullBundle;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    };</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="keyword">struct </span>FPerThreadFreeBlockLists</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">static</span> FPerThreadFreeBlockLists* <a class="code hl_function" href="namespaceMetasound_1_1ArrayNodeRandomGetVertexNames.html#a7a70b3b436e28f105475ebe416ebb3ed">Get</a>(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BinnedGPUTlsSlot)</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="structFGenericPlatformTLS.html#aabcbf4aff24b6c889fe3e3354204eecc">FPlatformTLS::IsValidTlsSlot</a>(BinnedGPUTlsSlot) ? (FPerThreadFreeBlockLists*)<a class="code hl_function" href="structFAndroidTLS.html#a9248ecf1939491815e7d309ce01d6366">FPlatformTLS::GetTlsValue</a>(BinnedGPUTlsSlot) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        <span class="keyword">static</span> <span class="keywordtype">void</span> SetTLS(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> ClearTLS(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        FPerThreadFreeBlockLists(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolCount)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            : AllocatedMemory(0)</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        { </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            FreeLists.AddDefaulted(PoolCount);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span>* Malloc(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].PopFromFront(<a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, InPoolIndex);</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        }</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <span class="comment">// return true if the pointer was pushed</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespaceMemPro.html#a56f2c2382a593a84671f50e66aae2eb5aac382134eaeb9d6dd6e9c441eb821b24">Free</a>(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, <span class="keywordtype">void</span>* InPtr, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <span class="keyword">const</span> FArenaParams&amp; LocalArenaParams)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].PushToFront(<a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, InPtr, InPoolIndex, InBlockSize, LocalArenaParams);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <span class="comment">// return true if a pointer can be pushed</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> CanFree(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <span class="keyword">const</span> FArenaParams&amp; LocalArenaParams)</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].CanPushToFront(InPoolIndex, InBlockSize, LocalArenaParams);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="comment">// returns a bundle that needs to be freed if it can&#39;t be recycled</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        FBundleNode* RecycleFullBundle(FArenaParams&amp; LocalArenaParams, FGlobalRecycler&amp; GlobalRecycler, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].RecyleFull(LocalArenaParams, GlobalRecycler, InPoolIndex);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <span class="comment">// returns true if we have anything to pop</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keywordtype">bool</span> ObtainRecycledPartial(FArenaParams&amp; LocalArenaParams, FGlobalRecycler&amp; GlobalRecycler, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].ObtainPartial(LocalArenaParams, GlobalRecycler, InPoolIndex);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        FBundleNode* PopBundles(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">return</span> FreeLists[InPoolIndex].PopBundles(InPoolIndex);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> AllocatedMemory;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        TArray&lt;FFreeBlockList&gt; FreeLists;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    };</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keyword">struct </span>FGlobalRecycler</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="keywordtype">void</span> <a class="code hl_enumvalue" href="UnrealNames_8h.html#adfd111cc8e912b039591d9ac852600faa95b19f7739b0b7ea7d6b07586be54f36">Init</a>(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolCount)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            Bundles.AddDefaulted(PoolCount);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        <span class="keywordtype">bool</span> PushBundle(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> NumCachedBundles, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, FBundleNode* InBundle)</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Slot = 0; Slot &lt; NumCachedBundles &amp;&amp; Slot &lt; BINNEDGPU_MAX_GMallocBinnedGPUMaxBundlesBeforeRecycle; Slot++)</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>            {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                <span class="keywordflow">if</span> (!Bundles[InPoolIndex].FreeBundles[Slot])</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                    <span class="keywordflow">if</span> (!FPlatformAtomics::InterlockedCompareExchangePointer((<span class="keywordtype">void</span>**)&amp;Bundles[InPoolIndex].FreeBundles[Slot], InBundle, <span class="keyword">nullptr</span>))</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                    {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                    }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        FBundleNode* PopBundle(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> NumCachedBundles, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Slot = 0; Slot &lt; NumCachedBundles &amp;&amp; Slot &lt; BINNEDGPU_MAX_GMallocBinnedGPUMaxBundlesBeforeRecycle; Slot++)</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                FBundleNode* <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = Bundles[InPoolIndex].FreeBundles[Slot];</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                <span class="keywordflow">if</span> (Result)</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                    <span class="keywordflow">if</span> (FPlatformAtomics::InterlockedCompareExchangePointer((<span class="keywordtype">void</span>**)&amp;Bundles[InPoolIndex].FreeBundles[Slot], <span class="keyword">nullptr</span>, Result) == Result)</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                    {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                    }</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keyword">struct </span>FPaddedBundlePointer</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            FBundleNode* FreeBundles[BINNEDGPU_MAX_GMallocBinnedGPUMaxBundlesBeforeRecycle];</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            FPaddedBundlePointer()</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                <a class="code hl_function" href="MemoryOps_8h.html#a69f3751c9b374df224c02a4c4f6bd7b9">DefaultConstructItems&lt;FBundleNode*&gt;</a>(FreeBundles, BINNEDGPU_MAX_GMallocBinnedGPUMaxBundlesBeforeRecycle);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        };</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        TArray&lt;FPaddedBundlePointer&gt; Bundles;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    };</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolIndexFromPtr(<span class="keyword">const</span> <span class="keywordtype">void</span>* Ptr) </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordflow">if</span> (PoolSearchDiv == 0)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <span class="keywordflow">return</span> (<a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(Ptr) - <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(PoolBaseVMPtr[0])) &gt;&gt; ArenaParams.MaxMemoryPerBlockSizeShift;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolIndex = ArenaParams.PoolCount;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        <span class="keywordflow">if</span> (((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &gt;= PoolBaseVMPtr[0]) &amp; ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &lt; HighestPoolBaseVMPtr + ArenaParams.MaxMemoryPerBlockSize))</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            PoolIndex = <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a>((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr - PoolBaseVMPtr[0]) / PoolSearchDiv;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <span class="keywordflow">if</span> (PoolIndex &gt;= ArenaParams.PoolCount)</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                PoolIndex = ArenaParams.PoolCount - 1;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &lt; PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex])</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            {</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                <span class="keywordflow">do</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                    PoolIndex--;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                    <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(PoolIndex &lt; ArenaParams.PoolCount);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                } <span class="keywordflow">while</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &lt; PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex]);</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &gt;= PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex] + ArenaParams.MaxMemoryPerBlockSize)</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                    PoolIndex = ArenaParams.PoolCount; <span class="comment">// was in the gap</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>            }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &gt;= PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex] + ArenaParams.MaxMemoryPerBlockSize)</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                <span class="keywordflow">do</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                    PoolIndex++;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                    <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(PoolIndex &lt; ArenaParams.PoolCount);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                } <span class="keywordflow">while</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &gt;= PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex] + ArenaParams.MaxMemoryPerBlockSize);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>*)Ptr &lt; PoolBaseVMPtr[(<a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a>)PoolIndex])</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                    PoolIndex = ArenaParams.PoolCount; <span class="comment">// was in the gap</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">return</span> PoolIndex;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    }</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* PoolBasePtr(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex)</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keywordflow">return</span> PoolBaseVMPtr[InPoolIndex];</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolIndexFromPtrChecked(<span class="keyword">const</span> <span class="keywordtype">void</span>* Ptr)</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = PoolIndexFromPtr(Ptr);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(Result &lt; ArenaParams.PoolCount);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> IsOSAllocation(<span class="keyword">const</span> <span class="keywordtype">void</span>* Ptr)</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        <span class="keywordflow">return</span> PoolIndexFromPtr(Ptr) &gt;= ArenaParams.PoolCount;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    }</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">void</span>* BlockOfBlocksPointerFromContainedPtr(<span class="keyword">const</span> <span class="keywordtype">void</span>* Ptr, <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a> PagesPlatformForBlockOfBlocks, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp; OutBlockOfBlocksIndex)</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndex = PoolIndexFromPtrChecked(Ptr);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* PoolStart = PoolBasePtr(PoolIndex);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> BlockOfBlocksIndex = (<a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(Ptr) - <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(PoolStart)) / (<a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(PagesPlatformForBlockOfBlocks) * <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(ArenaParams.AllocationGranularity));</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        OutBlockOfBlocksIndex = BlockOfBlocksIndex;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = PoolStart + BlockOfBlocksIndex * <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(PagesPlatformForBlockOfBlocks) * <a class="code hl_typedef" href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a>(ArenaParams.AllocationGranularity);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(Result &lt; PoolStart + ArenaParams.MaxMemoryPerBlockSize);</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    }</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* BlockPointerFromIndecies(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BlockOfBlocksIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BlockOfBlocksSize)</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* PoolStart = PoolBasePtr(InPoolIndex);</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>        <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* Ptr = PoolStart + BlockOfBlocksIndex * <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a>(BlockOfBlocksSize);</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(Ptr + BlockOfBlocksSize &lt;= PoolStart + ArenaParams.MaxMemoryPerBlockSize);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        <span class="keywordflow">return</span> Ptr;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    CORE_API FPoolInfoSmall* PushNewPoolToFront(FMallocBinnedGPU&amp; <a class="code hl_enumvalue" href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">Allocator</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InBlockSize, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp; OutBlockOfBlocksIndex);</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    CORE_API FPoolInfoSmall* GetFrontPool(FPoolTable&amp; Table, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>&amp; OutBlockOfBlocksIndex);</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keywordtype">bool</span> AdjustSmallBlockSizeForAlignment(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>&amp; InOutSize, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Alignment)</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        <span class="keywordflow">if</span> ((InOutSize &lt;= ArenaParams.MaxPoolSize) &amp; (Alignment &lt;= ArenaParams.MinimumAlignment)) <span class="comment">// one branch, not two</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        {</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> AlignedSize = <a class="code hl_enumvalue" href="UVEditorUVTransformOp_8h.html#a44ccb80fdfe8d24481f21d8eb7edbb61ad12fbc9a2ba3b0b91a4190959b4c966b">Align</a>(InOutSize, Alignment);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        <span class="keywordflow">if</span> (ArenaParams.bAttemptToAlignSmallBocks &amp; (AlignedSize &lt;= ArenaParams.MaxPoolSize) &amp; (Alignment &lt;= ArenaParams.MaximumAlignmentForSmallBlock)) <span class="comment">// one branch, not three</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndex = BoundSizeToPoolIndex(AlignedSize);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>            {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BlockSize = PoolIndexToBlockSize(PoolIndex);</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="AlignmentTemplates_8h.html#adfdc3e3033fd87a6408ac3f4d3e4ebea">IsAligned</a>(BlockSize, Alignment))</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                    InOutSize = <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>(BlockSize);</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                PoolIndex++;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(PoolIndex &lt; ArenaParams.PoolCount);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            }</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    CORE_API FMallocBinnedGPU();</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    FArenaParams&amp; GetParams()</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        <span class="keywordflow">return</span> ArenaParams;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    CORE_API <span class="keywordtype">void</span> InitMallocBinned();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    CORE_API <span class="keyword">virtual</span> ~FMallocBinnedGPU();</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">// FMalloc interface.</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsInternallyThreadSafe() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span>* Malloc(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Alignment)<span class="keyword"> override</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        Alignment = <a class="code hl_variable" href="structFMath.html#a34a6cfe48d9bdaaf5841324e45785bba">FMath::Max&lt;uint32&gt;</a>(Alignment, ArenaParams.MinimumAlignment);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keywordtype">void</span>* <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="comment">// Only allocate from the small pools if the size is small enough and the alignment isn&#39;t crazy large.</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="comment">// With large alignments, we&#39;ll waste a lot of memory allocating an entire page, but such alignments are highly unlikely in practice.</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">if</span> (AdjustSmallBlockSizeForAlignment(<a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>, Alignment))</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>            FPerThreadFreeBlockLists* Lists = ArenaParams.bPerThreadCaches ? FPerThreadFreeBlockLists::Get(BinnedGPUTlsSlot) : nullptr;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>            <span class="keywordflow">if</span> (Lists)</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndex = BoundSizeToPoolIndex(<a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BlockSize = PoolIndexToBlockSize(PoolIndex);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = Lists-&gt;Malloc(*<span class="keyword">this</span>, PoolIndex);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                <span class="keywordflow">if</span> (Result)</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>                    Lists-&gt;AllocatedMemory += BlockSize;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>                    <a class="code hl_define" href="AssertionMacros_8h.html#a12ff33b2f8cbad5116bd85ca93de5cb2">checkSlow</a>(<a class="code hl_function" href="AlignmentTemplates_8h.html#adfdc3e3033fd87a6408ac3f4d3e4ebea">IsAligned</a>(Result, Alignment));</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>                }</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        }</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <span class="keywordflow">if</span> (Result == <span class="keyword">nullptr</span>)</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a> = MallocExternal(<a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>, Alignment);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">Result</a>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    }</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span>* Realloc(<span class="keywordtype">void</span>* Ptr, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> NewSize, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Alignment)<span class="keyword"> override</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(!<span class="stringliteral">&quot;MallocBinnedGPU cannot realloc memory because the memory is assumed to not be writable by the CPU&quot;</span>);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    }</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_enumvalue" href="namespaceMemPro.html#a56f2c2382a593a84671f50e66aae2eb5aac382134eaeb9d6dd6e9c441eb821b24">Free</a>(<span class="keywordtype">void</span>* Ptr)<span class="keyword"> override</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolIndex = PoolIndexFromPtr(Ptr);</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <span class="keywordflow">if</span> (PoolIndex &lt; ArenaParams.PoolCount)</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            FPerThreadFreeBlockLists* Lists = ArenaParams.bPerThreadCaches ? FPerThreadFreeBlockLists::Get(BinnedGPUTlsSlot) : nullptr;</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <span class="keywordflow">if</span> (Lists)</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                <a class="code hl_typedef" href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a> BlockSize = PoolIndexToBlockSize(PoolIndex);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                <span class="keywordflow">if</span> (Lists-&gt;Free(*<span class="keyword">this</span>, Ptr, PoolIndex, BlockSize, ArenaParams))</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                    Lists-&gt;AllocatedMemory -= BlockSize;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            }</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        FreeExternal(Ptr);</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    }</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> GetAllocationSize(<span class="keywordtype">void</span> *Ptr, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> &amp;SizeOut)<span class="keyword"> override</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolIndex = PoolIndexFromPtr(Ptr);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <span class="keywordflow">if</span> (PoolIndex &lt; ArenaParams.PoolCount)</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        {</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            SizeOut = PoolIndexToBlockSize(PoolIndex);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keywordflow">return</span> GetAllocationSizeExternal(Ptr, SizeOut);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">virtual</span> <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> QuantizeSize(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Alignment)<span class="keyword"> override</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(<a class="code hl_enumvalue" href="MemoryBase_8h.html#abc9fbfea8c79668362d57893ea50f838a7d69a1ccda7665d7a6f494085b91f410">DEFAULT_ALIGNMENT</a> &lt;= ArenaParams.MinimumAlignment); <span class="comment">// used below</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a12ff33b2f8cbad5116bd85ca93de5cb2">checkSlow</a>((Alignment &amp; (Alignment - 1)) == 0); <span class="comment">// Check the alignment is a power of two</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> SizeOut;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <span class="keywordflow">if</span> ((<a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a> &lt;= ArenaParams.MaxPoolSize) &amp; (Alignment &lt;= ArenaParams.MinimumAlignment)) <span class="comment">// one branch, not two</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            SizeOut = PoolIndexToBlockSize(BoundSizeToPoolIndex(<a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>));</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        }</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            Alignment = FPlatformMath::Max&lt;uint32&gt;(Alignment, ArenaParams.AllocationGranularity);</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            SizeOut = <a class="code hl_enumvalue" href="UVEditorUVTransformOp_8h.html#a44ccb80fdfe8d24481f21d8eb7edbb61ad12fbc9a2ba3b0b91a4190959b4c966b">Align</a>(<a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>, Alignment);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a>(SizeOut &gt;= <a class="code hl_enumvalue" href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">Count</a>);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">return</span> SizeOut;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ValidateHeap() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="namespaceUE_1_1Anim_1_1AnimationData.html#a861b0903dd598415757edc83054bde0a">Trim</a>(<span class="keywordtype">bool</span> bTrimThreadCaches) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetupTLSCachesOnCurrentThread() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> ClearAndDisableTLSCachesOnCurrentThread() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    CORE_API <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code hl_typedef" href="Platform_8h.html#a74140f1ff3f7a51b1ac752f90283f3d6">TCHAR</a>* GetDescriptiveName() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <span class="comment">// End FMalloc interface.</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    CORE_API <span class="keywordtype">void</span> FlushCurrentThreadCache();</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    CORE_API <span class="keywordtype">void</span>* MallocExternal(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>, <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> Alignment);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    CORE_API <span class="keywordtype">void</span> FreeExternal(<span class="keywordtype">void</span> *Ptr);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    CORE_API <span class="keywordtype">bool</span> GetAllocationSizeExternal(<span class="keywordtype">void</span>* Ptr, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a>&amp; SizeOut);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    MBG_STAT(<a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> GetTotalAllocatedSmallPoolMemory();)</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> GetAllocatorStats(FGenericMemoryStats&amp; out_Stats) <span class="keyword">override</span>;<span class="comment"></span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">    /** Dumps current allocator stats to the log. */</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    CORE_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> DumpAllocatorStats(<span class="keyword">class</span> FOutputDevice&amp; <a class="code hl_variable" href="StatsCommand_8h.html#a95a42fe4ca3180b042ae725512d41d7d">Ar</a>) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BoundSizeToPoolIndex(<a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>)</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keyword">auto</span> <a class="code hl_variable" href="namespaceMetasound_1_1ArrayNodeVertexNames.html#ad07dccbfff427d2a47e6d7dd7e44ccb4">Index</a> = ((<a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a> + ArenaParams.MinimumAlignment - 1) &gt;&gt; ArenaParams.MinimumAlignmentShift);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a12ff33b2f8cbad5116bd85ca93de5cb2">checkSlow</a>(Index &gt;= 0 &amp;&amp; Index &lt;= (ArenaParams.MaxPoolSize &gt;&gt; ArenaParams.MinimumAlignmentShift)); <span class="comment">// and it should be in the table</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndex = <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>(MemSizeToIndex[Index]);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <a class="code hl_define" href="AssertionMacros_8h.html#a12ff33b2f8cbad5116bd85ca93de5cb2">checkSlow</a>(PoolIndex &gt;= 0 &amp;&amp; PoolIndex &lt; ArenaParams.PoolCount);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="keywordflow">return</span> PoolIndex;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <a class="code hl_define" href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndexToBlockSize(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> PoolIndex)</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a>(SmallBlockSizesReversedShifted[ArenaParams.PoolCount - PoolIndex - 1]) &lt;&lt; ArenaParams.MinimumAlignmentShift;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    CORE_API <span class="keywordtype">void</span> Commit(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <span class="keywordtype">void</span> *Ptr, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    CORE_API <span class="keywordtype">void</span> Decommit(<a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> InPoolIndex, <span class="keywordtype">void</span> *Ptr, <a class="code hl_typedef" href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a> <a class="code hl_variable" href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a>);</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span> </div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <span class="comment">// Pool tables for different pool sizes</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    TArray&lt;FPoolTable&gt; SmallPoolTables;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> SmallPoolInfosPerPlatformPage;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    PoolHashBucket* HashBuckets;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    PoolHashBucket* HashBucketFreeList;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> NumLargePoolsPerPage;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span> </div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <a class="code hl_typedef" href="namespaceUE.html#a30602c02de16f3a41a9ee9e8b3c5bde1">UE::FPlatformRecursiveMutex</a> Mutex;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    FGlobalRecycler GGlobalRecycler;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    FPtrToPoolMapping PtrToPoolMapping;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span> </div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    FArenaParams ArenaParams;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    TArray&lt;uint16&gt; SmallBlockSizesReversedShifted; <span class="comment">// this is reversed to get the smallest elements on our main cache line</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <a class="code hl_typedef" href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a> BinnedGPUTlsSlot = <a class="code hl_variable" href="structFGenericPlatformTLS.html#ae05cf88cc8d53421dbf3fec08da75c89">FPlatformTLS::InvalidTlsSlot</a>;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <a class="code hl_typedef" href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a> PoolSearchDiv; <span class="comment">// if this is zero, the VM turned out to be contiguous anyway so we use a simple subtract and shift</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <a class="code hl_typedef" href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a>* HighestPoolBaseVMPtr; <span class="comment">// this is a duplicate of PoolBaseVMPtr[ArenaParams.PoolCount - 1]</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    FPlatformMemory::FPlatformVirtualMemoryBlock PoolBaseVMBlock;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    TArray&lt;uint8*&gt; PoolBaseVMPtr;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    TArray&lt;FPlatformMemory::FPlatformVirtualMemoryBlock&gt; PoolBaseVMBlocks;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="comment">// Mapping of sizes to small table indices</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    TArray&lt;uint8&gt; MemSizeToIndex;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    MBG_STAT(</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUAllocatedSmallPoolMemory = 0; <span class="comment">// memory that&#39;s requested to be allocated by the game</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUAllocatedOSSmallPoolMemory = 0;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUAllocatedLargePoolMemory = 0; <span class="comment">// memory requests to the OS which don&#39;t fit in the small pool</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUAllocatedLargePoolMemoryWAlignment = 0; <span class="comment">// when we allocate at OS level we need to align to a size</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span> </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUPoolInfoMemory = 0;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUHashMemory = 0;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUFreeBitsMemory = 0;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> BinnedGPUTLSMemory = 0;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        TAtomic&lt;int64&gt; ConsolidatedMemory;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        TAtomic&lt;int64&gt; GPUProxyMemory;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    )</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <a class="code hl_typedef" href="namespaceUE.html#a30602c02de16f3a41a9ee9e8b3c5bde1">UE::FPlatformRecursiveMutex</a> FreeBlockListsRegistrationMutex;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <a class="code hl_typedef" href="namespaceUE.html#a30602c02de16f3a41a9ee9e8b3c5bde1">UE::FPlatformRecursiveMutex</a>&amp; GetFreeBlockListsRegistrationMutex()</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="keywordflow">return</span> FreeBlockListsRegistrationMutex;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    TArray&lt;FPerThreadFreeBlockLists*&gt; RegisteredFreeBlockLists;</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    TArray&lt;FPerThreadFreeBlockLists*&gt;&amp; GetRegisteredFreeBlockLists()</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <span class="keywordflow">return</span> RegisteredFreeBlockLists;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    }</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="keywordtype">void</span> RegisterThreadFreeBlockLists(FPerThreadFreeBlockLists* FreeBlockLists)</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        UE::TUniqueLock Lock(GetFreeBlockListsRegistrationMutex());</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>        GetRegisteredFreeBlockLists().Add(FreeBlockLists);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    }</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_typedef" href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a> UnregisterThreadFreeBlockLists(FPerThreadFreeBlockLists* FreeBlockLists)</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        UE::TUniqueLock Lock(GetFreeBlockListsRegistrationMutex());</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        GetRegisteredFreeBlockLists().Remove(FreeBlockLists);</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">return</span> FreeBlockLists-&gt;AllocatedMemory;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    TArray&lt;void*&gt; MallocedPointers;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>};</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><a class="code hl_define" href="MSVCPlatformCompilerPreSetup_8h.html#af38cde44000307da38b55a4fab88335f">PRAGMA_RESTORE_UNSAFE_TYPECAST_WARNINGS</a></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span><span class="preprocessor">#if UE_ENABLE_INCLUDE_ORDER_DEPRECATED_IN_5_7</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="preprocessor">#   include &quot;<a class="code" href="CriticalSection_8h.html">HAL/CriticalSection.h</a>&quot;</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aAlignmentTemplates_8h_html"><div class="ttname"><a href="AlignmentTemplates_8h.html">AlignmentTemplates.h</a></div></div>
<div class="ttc" id="aAlignmentTemplates_8h_html_adfdc3e3033fd87a6408ac3f4d3e4ebea"><div class="ttname"><a href="AlignmentTemplates_8h.html#adfdc3e3033fd87a6408ac3f4d3e4ebea">IsAligned</a></div><div class="ttdeci">FORCEINLINE constexpr bool IsAligned(T Val, uint64 Alignment)</div><div class="ttdoc">Checks if a pointer is aligned to the specified alignment.</div><div class="ttdef"><b>Definition</b> <a href="AlignmentTemplates_8h_source.html#l00050">AlignmentTemplates.h:50</a></div></div>
<div class="ttc" id="aAndroidPlatform_8h_html_a724fb9f82013c782db5c3c12ea36aac8"><div class="ttname"><a href="AndroidPlatform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div><div class="ttdeci">#define FORCEINLINE</div><div class="ttdef"><b>Definition</b> <a href="AndroidPlatform_8h_source.html#l00140">AndroidPlatform.h:140</a></div></div>
<div class="ttc" id="aArray_8h_html"><div class="ttname"><a href="Array_8h.html">Array.h</a></div></div>
<div class="ttc" id="aAssertionMacros_8h_html"><div class="ttname"><a href="AssertionMacros_8h.html">AssertionMacros.h</a></div></div>
<div class="ttc" id="aAssertionMacros_8h_html_a12ff33b2f8cbad5116bd85ca93de5cb2"><div class="ttname"><a href="AssertionMacros_8h.html#a12ff33b2f8cbad5116bd85ca93de5cb2">checkSlow</a></div><div class="ttdeci">#define checkSlow(expr)</div><div class="ttdef"><b>Definition</b> <a href="AssertionMacros_8h_source.html#l00345">AssertionMacros.h:345</a></div></div>
<div class="ttc" id="aAssertionMacros_8h_html_a586e110623cde145b8a5bdefb429e144"><div class="ttname"><a href="AssertionMacros_8h.html#a586e110623cde145b8a5bdefb429e144">check</a></div><div class="ttdeci">#define check(expr)</div><div class="ttdef"><b>Definition</b> <a href="AssertionMacros_8h_source.html#l00327">AssertionMacros.h:327</a></div></div>
<div class="ttc" id="aAtomic_8h_html"><div class="ttname"><a href="Atomic_8h.html">Atomic.h</a></div></div>
<div class="ttc" id="aCachedOSPageAllocator_8h_html"><div class="ttname"><a href="CachedOSPageAllocator_8h.html">CachedOSPageAllocator.h</a></div></div>
<div class="ttc" id="aCoreTypes_8h_html"><div class="ttname"><a href="CoreTypes_8h.html">CoreTypes.h</a></div></div>
<div class="ttc" id="aCriticalSection_8h_html"><div class="ttname"><a href="CriticalSection_8h.html">CriticalSection.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aHairAttributes_8h_html_a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9"><div class="ttname"><a href="HairAttributes_8h.html#a5314d3ea05687170c2f8c6cfa8523ea5ae93f994f01c537c4e2f7d8528c3eb5e9">EHairAttribute::Count</a></div><div class="ttdeci">@ Count</div><div class="ttdef"><b>Definition</b> <a href="HairAttributes_8h_source.html#l00060">HairAttributes.h:60</a></div></div>
<div class="ttc" id="aLowLevelMemTracker_8h_html"><div class="ttname"><a href="LowLevelMemTracker_8h.html">LowLevelMemTracker.h</a></div></div>
<div class="ttc" id="aMSVCPlatformCompilerPreSetup_8h_html_a970985d7a828a439c932e1df32a78376"><div class="ttname"><a href="MSVCPlatformCompilerPreSetup_8h.html#a970985d7a828a439c932e1df32a78376">PRAGMA_DISABLE_UNSAFE_TYPECAST_WARNINGS</a></div><div class="ttdeci">#define PRAGMA_DISABLE_UNSAFE_TYPECAST_WARNINGS</div><div class="ttdef"><b>Definition</b> <a href="MSVCPlatformCompilerPreSetup_8h_source.html#l00081">MSVCPlatformCompilerPreSetup.h:81</a></div></div>
<div class="ttc" id="aMSVCPlatformCompilerPreSetup_8h_html_af38cde44000307da38b55a4fab88335f"><div class="ttname"><a href="MSVCPlatformCompilerPreSetup_8h.html#af38cde44000307da38b55a4fab88335f">PRAGMA_RESTORE_UNSAFE_TYPECAST_WARNINGS</a></div><div class="ttdeci">#define PRAGMA_RESTORE_UNSAFE_TYPECAST_WARNINGS</div><div class="ttdef"><b>Definition</b> <a href="MSVCPlatformCompilerPreSetup_8h_source.html#l00100">MSVCPlatformCompilerPreSetup.h:100</a></div></div>
<div class="ttc" id="aMallocBinnedCommon_8h_html"><div class="ttname"><a href="MallocBinnedCommon_8h.html">MallocBinnedCommon.h</a></div></div>
<div class="ttc" id="aMallocBinnedCommon_8h_html_acfd4f67f208d69f91b61e5ed3eafdd12"><div class="ttname"><a href="MallocBinnedCommon_8h.html#acfd4f67f208d69f91b61e5ed3eafdd12">BINNEDCOMMON_USE_SEPARATE_VM_PER_POOL</a></div><div class="ttdeci">#define BINNEDCOMMON_USE_SEPARATE_VM_PER_POOL</div><div class="ttdef"><b>Definition</b> <a href="MallocBinnedCommon_8h_source.html#l00040">MallocBinnedCommon.h:40</a></div></div>
<div class="ttc" id="aMemoryBase_8h_html"><div class="ttname"><a href="MemoryBase_8h.html">MemoryBase.h</a></div></div>
<div class="ttc" id="aMemoryBase_8h_html_abc9fbfea8c79668362d57893ea50f838a7d69a1ccda7665d7a6f494085b91f410"><div class="ttname"><a href="MemoryBase_8h.html#abc9fbfea8c79668362d57893ea50f838a7d69a1ccda7665d7a6f494085b91f410">DEFAULT_ALIGNMENT</a></div><div class="ttdeci">@ DEFAULT_ALIGNMENT</div><div class="ttdef"><b>Definition</b> <a href="MemoryBase_8h_source.html#l00024">MemoryBase.h:24</a></div></div>
<div class="ttc" id="aMemoryOps_8h_html"><div class="ttname"><a href="MemoryOps_8h.html">MemoryOps.h</a></div></div>
<div class="ttc" id="aMemoryOps_8h_html_a69f3751c9b374df224c02a4c4f6bd7b9"><div class="ttname"><a href="MemoryOps_8h.html#a69f3751c9b374df224c02a4c4f6bd7b9">DefaultConstructItems</a></div><div class="ttdeci">FORCEINLINE void DefaultConstructItems(void *Address, SizeType Count)</div><div class="ttdoc">Default constructs a range of items in memory.</div><div class="ttdef"><b>Definition</b> <a href="MemoryOps_8h_source.html#l00037">MemoryOps.h:37</a></div></div>
<div class="ttc" id="aNumericLimits_8h_html"><div class="ttname"><a href="NumericLimits_8h.html">NumericLimits.h</a></div></div>
<div class="ttc" id="aNumericLimits_8h_html_aa1062aff3b8717c82c04237f279d398c"><div class="ttname"><a href="NumericLimits_8h.html#aa1062aff3b8717c82c04237f279d398c">MAX_uint16</a></div><div class="ttdeci">#define MAX_uint16</div><div class="ttdef"><b>Definition</b> <a href="NumericLimits_8h_source.html#l00020">NumericLimits.h:20</a></div></div>
<div class="ttc" id="aNumericLimits_8h_html_ac7bee8babeb8a797f90711530c15710e"><div class="ttname"><a href="NumericLimits_8h.html#ac7bee8babeb8a797f90711530c15710e">MAX_uint8</a></div><div class="ttdeci">#define MAX_uint8</div><div class="ttdef"><b>Definition</b> <a href="NumericLimits_8h_source.html#l00019">NumericLimits.h:19</a></div></div>
<div class="ttc" id="aPackage_8h_html_a3b787a4cb69ad795334ad7bc615b0367a47f9082fc380ca62d531096aa1d110f1"><div class="ttname"><a href="Package_8h.html#a3b787a4cb69ad795334ad7bc615b0367a47f9082fc380ca62d531096aa1d110f1">EAssetAccessSpecifier::Private</a></div><div class="ttdeci">@ Private</div><div class="ttdef"><b>Definition</b> <a href="Package_8h_source.html#l00203">Package.h:203</a></div></div>
<div class="ttc" id="aPathFollowingComponent_8h_html_a4e15b6712f613b0fc6f02d3d0af52f3ca526d688f37a86d3c3f27d0c5016eb71d"><div class="ttname"><a href="PathFollowingComponent_8h.html#a4e15b6712f613b0fc6f02d3d0af52f3ca526d688f37a86d3c3f27d0c5016eb71d">EPathFollowingVelocityMode::Reset</a></div><div class="ttdeci">@ Reset</div><div class="ttdef"><b>Definition</b> <a href="PathFollowingComponent_8h_source.html#l00196">PathFollowingComponent.h:196</a></div></div>
<div class="ttc" id="aPlatformAtomics_8h_html"><div class="ttname"><a href="PlatformAtomics_8h.html">PlatformAtomics.h</a></div></div>
<div class="ttc" id="aPlatformMath_8h_html"><div class="ttname"><a href="PlatformMath_8h.html">PlatformMath.h</a></div></div>
<div class="ttc" id="aPlatformMemory_8h_html"><div class="ttname"><a href="PlatformMemory_8h.html">PlatformMemory.h</a></div></div>
<div class="ttc" id="aPlatformMutex_8h_html"><div class="ttname"><a href="PlatformMutex_8h.html">PlatformMutex.h</a></div></div>
<div class="ttc" id="aPlatformTLS_8h_html"><div class="ttname"><a href="PlatformTLS_8h.html">PlatformTLS.h</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a2c46f1fb01e11216aa2c983307deafb4"><div class="ttname"><a href="Platform_8h.html#a2c46f1fb01e11216aa2c983307deafb4">SIZE_T</a></div><div class="ttdeci">FPlatformTypes::SIZE_T SIZE_T</div><div class="ttdoc">An unsigned integer the same size as a pointer, the same as UPTRINT.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01100">Platform.h:1100</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a40bc01dd090acd02a79b5dc13e08abe6"><div class="ttname"><a href="Platform_8h.html#a40bc01dd090acd02a79b5dc13e08abe6">uint8</a></div><div class="ttdeci">FPlatformTypes::uint8 uint8</div><div class="ttdoc">An 8-bit unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01061">Platform.h:1061</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a55934b7aafc849240fa69ea0339c0ab7"><div class="ttname"><a href="Platform_8h.html#a55934b7aafc849240fa69ea0339c0ab7">uint16</a></div><div class="ttdeci">FPlatformTypes::uint16 uint16</div><div class="ttdoc">A 16-bit unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01063">Platform.h:1063</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a74140f1ff3f7a51b1ac752f90283f3d6"><div class="ttname"><a href="Platform_8h.html#a74140f1ff3f7a51b1ac752f90283f3d6">TCHAR</a></div><div class="ttdeci">FPlatformTypes::TCHAR TCHAR</div><div class="ttdoc">Either ANSICHAR or WIDECHAR, depending on whether the platform supports wide characters or the requir...</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01085">Platform.h:1085</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a89241ea7101f26f05a4f1efd6be26b32"><div class="ttname"><a href="Platform_8h.html#a89241ea7101f26f05a4f1efd6be26b32">int64</a></div><div class="ttdeci">FPlatformTypes::int64 int64</div><div class="ttdoc">A 64-bit signed integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01077">Platform.h:1077</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a8c7a127091efbdfc5a16939041653e05"><div class="ttname"><a href="Platform_8h.html#a8c7a127091efbdfc5a16939041653e05">uint32</a></div><div class="ttdeci">FPlatformTypes::uint32 uint32</div><div class="ttdoc">A 32-bit unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01065">Platform.h:1065</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a8dbb3cd84ca9fd010dadfc3815eefa5d"><div class="ttname"><a href="Platform_8h.html#a8dbb3cd84ca9fd010dadfc3815eefa5d">int32</a></div><div class="ttdeci">FPlatformTypes::int32 int32</div><div class="ttdoc">A 32-bit signed integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01075">Platform.h:1075</a></div></div>
<div class="ttc" id="aPlatform_8h_html_a9312caeb4a64708527581a5c78438b5a"><div class="ttname"><a href="Platform_8h.html#a9312caeb4a64708527581a5c78438b5a">UPTRINT</a></div><div class="ttdeci">FPlatformTypes::UPTRINT UPTRINT</div><div class="ttdoc">An unsigned integer the same size as a pointer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01096">Platform.h:1096</a></div></div>
<div class="ttc" id="aPlatform_8h_html_afddf25cca147311c233b23a9d3329bb4"><div class="ttname"><a href="Platform_8h.html#afddf25cca147311c233b23a9d3329bb4">uint64</a></div><div class="ttdeci">FPlatformTypes::uint64 uint64</div><div class="ttdoc">A 64-bit unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="Platform_8h_source.html#l01067">Platform.h:1067</a></div></div>
<div class="ttc" id="aPooledVirtualMemoryAllocator_8h_html"><div class="ttname"><a href="PooledVirtualMemoryAllocator_8h.html">PooledVirtualMemoryAllocator.h</a></div></div>
<div class="ttc" id="aRenderGraphDefinitions_8h_html_a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2"><div class="ttname"><a href="RenderGraphDefinitions_8h.html#a2a79e6d685affd4f2fa2bc1eb19048a4afb1925517296a258d34f3c05e78ce0b2">ERDGHandleRegistryDestructPolicy::Allocator</a></div><div class="ttdeci">@ Allocator</div><div class="ttdef"><b>Definition</b> <a href="RenderGraphDefinitions_8h_source.html#l00439">RenderGraphDefinitions.h:439</a></div></div>
<div class="ttc" id="aScopeLock_8h_html"><div class="ttname"><a href="ScopeLock_8h.html">ScopeLock.h</a></div></div>
<div class="ttc" id="aSequenceHistory_8h_html_a41f48316f09703e0b7cd9ac6b643e9c8"><div class="ttname"><a href="SequenceHistory_8h.html#a41f48316f09703e0b7cd9ac6b643e9c8">Size</a></div><div class="ttdeci">constexpr SIZE_T TSequenceHistory&lt; HistorySize &gt;::Size</div><div class="ttdef"><b>Definition</b> <a href="SequenceHistory_8h_source.html#l00069">SequenceHistory.h:69</a></div></div>
<div class="ttc" id="aStatsCommand_8h_html_a95a42fe4ca3180b042ae725512d41d7d"><div class="ttname"><a href="StatsCommand_8h.html#a95a42fe4ca3180b042ae725512d41d7d">Ar</a></div><div class="ttdeci">bool FOutputDevice * Ar</div><div class="ttdef"><b>Definition</b> <a href="StatsCommand_8h_source.html#l00016">StatsCommand.h:16</a></div></div>
<div class="ttc" id="aUVEditorUVTransformOp_8h_html_a44ccb80fdfe8d24481f21d8eb7edbb61ad12fbc9a2ba3b0b91a4190959b4c966b"><div class="ttname"><a href="UVEditorUVTransformOp_8h.html#a44ccb80fdfe8d24481f21d8eb7edbb61ad12fbc9a2ba3b0b91a4190959b4c966b">EUVEditorUVTransformType::Align</a></div><div class="ttdeci">@ Align</div><div class="ttdoc">Position all selected elements given alignment rules.</div><div class="ttdef"><b>Definition</b> <a href="UVEditorUVTransformOp_8h_source.html#l00026">UVEditorUVTransformOp.h:26</a></div></div>
<div class="ttc" id="aUniqueLock_8h_html"><div class="ttname"><a href="UniqueLock_8h.html">UniqueLock.h</a></div></div>
<div class="ttc" id="aUnrealMathUtility_8h_html"><div class="ttname"><a href="UnrealMathUtility_8h.html">UnrealMathUtility.h</a></div></div>
<div class="ttc" id="aUnrealMemory_8h_html"><div class="ttname"><a href="UnrealMemory_8h.html">UnrealMemory.h</a></div></div>
<div class="ttc" id="aUnrealNames_8h_html_adfd111cc8e912b039591d9ac852600faa95b19f7739b0b7ea7d6b07586be54f36"><div class="ttname"><a href="UnrealNames_8h.html#adfd111cc8e912b039591d9ac852600faa95b19f7739b0b7ea7d6b07586be54f36">EName::Init</a></div><div class="ttdeci">@ Init</div><div class="ttdef"><b>Definition</b> <a href="UnrealNames_8h_source.html#l00269">UnrealNames.h:269</a></div></div>
<div class="ttc" id="aclassFMalloc_html"><div class="ttname"><a href="classFMalloc.html">FMalloc</a></div><div class="ttdoc">The global memory allocator&#39;s interface.</div><div class="ttdef"><b>Definition</b> <a href="MemoryBase_8h_source.html#l00096">MemoryBase.h:99</a></div></div>
<div class="ttc" id="anamespaceFPropertyAccess_html_aa16d54ba56779d9aec31de05d8660f14"><div class="ttname"><a href="namespaceFPropertyAccess.html#aa16d54ba56779d9aec31de05d8660f14">FPropertyAccess::Result</a></div><div class="ttdeci">Result</div><div class="ttdef"><b>Definition</b> <a href="PropertyEditorModule_8h_source.html#l00056">PropertyEditorModule.h:57</a></div></div>
<div class="ttc" id="anamespaceMemPro_html_a56f2c2382a593a84671f50e66aae2eb5aac382134eaeb9d6dd6e9c441eb821b24"><div class="ttname"><a href="namespaceMemPro.html#a56f2c2382a593a84671f50e66aae2eb5aac382134eaeb9d6dd6e9c441eb821b24">MemPro::Free</a></div><div class="ttdeci">@ Free</div><div class="ttdef"><b>Definition</b> <a href="MemPro_8h_source.html#l00147">MemPro.h:147</a></div></div>
<div class="ttc" id="anamespaceMetasound_1_1ArrayNodeRandomGetVertexNames_html_a7a70b3b436e28f105475ebe416ebb3ed"><div class="ttname"><a href="namespaceMetasound_1_1ArrayNodeRandomGetVertexNames.html#a7a70b3b436e28f105475ebe416ebb3ed">Metasound::ArrayNodeRandomGetVertexNames::Get</a></div><div class="ttdeci">Trigger to reset the seed for the randomized array Input array of weights to use for random selection Will repeat if this array is shorter than the input array to select from No The number of elements to track to avoid repeating in a row This is clamped to be within half the array size The output will end up repeating a clear pattern if set close to the array size Set to to automatically set to half the array Enable Shared Set to enabled to share state with other Random Get(Array) nodes. Does not apply when previewing in the MetaSound editor</div></div>
<div class="ttc" id="anamespaceMetasound_1_1ArrayNodeVertexNames_html_ad07dccbfff427d2a47e6d7dd7e44ccb4"><div class="ttname"><a href="namespaceMetasound_1_1ArrayNodeVertexNames.html#ad07dccbfff427d2a47e6d7dd7e44ccb4">Metasound::ArrayNodeVertexNames::Index</a></div><div class="ttdeci">Left Input Left Array Trigger to get value Index</div><div class="ttdef"><b>Definition</b> <a href="MetasoundArrayNodes_8h_source.html#l00062">MetasoundArrayNodes.h:62</a></div></div>
<div class="ttc" id="anamespaceUE_1_1Anim_1_1AnimationData_html_a861b0903dd598415757edc83054bde0a"><div class="ttname"><a href="namespaceUE_1_1Anim_1_1AnimationData.html#a861b0903dd598415757edc83054bde0a">UE::Anim::AnimationData::Trim</a></div><div class="ttdeci">bool Trim(UAnimSequence *InSequence, TRange&lt; FFrameNumber &gt; TrimRange)</div><div class="ttdoc">Trim a specific window from the animation data.</div></div>
<div class="ttc" id="anamespaceUE_html_a30602c02de16f3a41a9ee9e8b3c5bde1"><div class="ttname"><a href="namespaceUE.html#a30602c02de16f3a41a9ee9e8b3c5bde1">UE::FPlatformRecursiveMutex</a></div><div class="ttdeci">FPThreadsRecursiveMutex FPlatformRecursiveMutex</div><div class="ttdef"><b>Definition</b> <a href="AndroidPlatformMutex_8h_source.html#l00012">AndroidPlatformMutex.h:12</a></div></div>
<div class="ttc" id="astructFAndroidTLS_html_a9248ecf1939491815e7d309ce01d6366"><div class="ttname"><a href="structFAndroidTLS.html#a9248ecf1939491815e7d309ce01d6366">FAndroidTLS::GetTlsValue</a></div><div class="ttdeci">static FORCEINLINE void * GetTlsValue(uint32 SlotIndex)</div><div class="ttdoc">Reads the value stored at the specified TLS slot.</div><div class="ttdef"><b>Definition</b> <a href="AndroidPlatformTLS_8h_source.html#l00057">AndroidPlatformTLS.h:57</a></div></div>
<div class="ttc" id="astructFGenericPlatformTLS_html_aabcbf4aff24b6c889fe3e3354204eecc"><div class="ttname"><a href="structFGenericPlatformTLS.html#aabcbf4aff24b6c889fe3e3354204eecc">FGenericPlatformTLS::IsValidTlsSlot</a></div><div class="ttdeci">static FORCEINLINE bool IsValidTlsSlot(uint32 SlotIndex)</div><div class="ttdoc">Return false if this is an invalid TLS slot.</div><div class="ttdef"><b>Definition</b> <a href="GenericPlatformTLS_8h_source.html#l00020">GenericPlatformTLS.h:20</a></div></div>
<div class="ttc" id="astructFGenericPlatformTLS_html_ae05cf88cc8d53421dbf3fec08da75c89"><div class="ttname"><a href="structFGenericPlatformTLS.html#ae05cf88cc8d53421dbf3fec08da75c89">FGenericPlatformTLS::InvalidTlsSlot</a></div><div class="ttdeci">static const uint32 InvalidTlsSlot</div><div class="ttdef"><b>Definition</b> <a href="GenericPlatformTLS_8h_source.html#l00013">GenericPlatformTLS.h:13</a></div></div>
<div class="ttc" id="astructFMath_html_a34a6cfe48d9bdaaf5841324e45785bba"><div class="ttname"><a href="structFMath.html#a34a6cfe48d9bdaaf5841324e45785bba">FMath::Max</a></div><div class="ttdeci">const T const T Max</div><div class="ttdef"><b>Definition</b> <a href="UnrealMathUtility_8h_source.html#l00656">UnrealMathUtility.h:657</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_7536b172fbd480bfd146a1b1acd6856b.html">Runtime</a></li><li class="navelem"><a href="dir_0e6cddcc9caa1238c7f3774224afaa45.html">Core</a></li><li class="navelem"><a href="dir_ba49309ee78fabe0452662bc1a7ef37d.html">Public</a></li><li class="navelem"><a href="dir_06b681a867cd45e91f64ca04156625cf.html">HAL</a></li><li class="navelem"><a href="MallocBinnedGPU_8h.html">MallocBinnedGPU.h</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for Unreal Engine 5.6 C++ API by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
